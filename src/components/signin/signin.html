<form [formGroup]="loginForm" >
   <div *ngIf="!saved">
    <ion-grid align="center">

        
            <ion-row>
                    <ion-col>
                        <img src="../../assets/imgs/pt_app_logo.jpeg" height="200px" width="100%" style="border-radius: 20px">
                </ion-col>
            </ion-row> 
            
            <ion-row class="mysignup" [hidden]="!show">
                    <ion-col>
                          
                      </ion-col>
                  <ion-col col-12>
                    
                        <ion-item class="newionInput" >
                                <ion-input type="name" formControlName="username"  placeholder="Username" class="loginEmail"> </ion-input>
                                <ion-label position="stacked" *ngIf="loginForm.get('username').status === 'PENDING' && loginForm.controls['username'].touched && loginForm.controls['username'].value !== ''">Checking...</ion-label>
                                <ion-label position="stacked" *ngIf="loginForm.get('username').status === 'INVALID' && loginForm.controls['username'].touched && loginForm.controls['username'].value !== ''">Not available</ion-label>
                                <ion-label position="stacked" *ngIf="loginForm.get('username').status === 'VALID' && loginForm.controls['username'].touched && loginForm.controls['username'].value !== ''">Available</ion-label>
                            </ion-item>  
                    
                  </ion-col>
                  <ion-col >
                      
                    </ion-col>
                </ion-row>
                <ion-row [hidden]="!show">
                        <ion-col>
                            
                            <ng-container *ngFor="let validation of validation_messages.username">
                                <div class="error-message" *ngIf="loginForm.get('username').hasError(validation.type) && loginForm.controls['username'].touched">{{validation.message}}</div>
                                    
                              </ng-container>
                        </ion-col>
                    </ion-row>
                    <ion-row [hidden]="!show">
                            <ion-col>
                                  <div>
                                      
                                  </div>

                              </ion-col>
                          <ion-col col-12>
                            
                                <ion-item class="newionInput" >
                                        <ion-input type="name" formControlName="fname"  placeholder="Firstname" class="loginEmail"> </ion-input>
                                        
                                    </ion-item>  
                            
                          </ion-col>
                          <ion-col>
                            </ion-col>
                        </ion-row>
                        <ion-row [hidden]="!show">
                                <ion-col>
                                    <ng-container *ngFor="let validation of validation_messages.fname">
                                        <div class="error-message" *ngIf="loginForm.get('fname').hasError(validation.type) && loginForm.controls['fname'].touched">{{validation.message}}</div>
                                      </ng-container>
                                </ion-col>
                            </ion-row>
                            <ion-row [hidden]="!show">
                                    <ion-col>
                                          
                                      </ion-col>
                                  <ion-col col-12>
                                    
                                        <ion-item class="newionInput" >
                                                <ion-input type="name" formControlName="lname"  placeholder="Lastname" class="loginEmail"> </ion-input>
                                                
                                            </ion-item>  
                                    
                                  </ion-col>
                                  <ion-col>
                                    </ion-col>
                                </ion-row>
                                <ion-row [hidden]="!show">
                                        <ion-col>
                                            <ng-container *ngFor="let validation of validation_messages.lname">
                                                <div class="error-message" *ngIf="loginForm.get('lname').hasError(validation.type) && loginForm.controls['lname'].touched">{{validation.message}}</div>
                                              </ng-container>
                                        </ion-col>
                                    </ion-row>
      <ion-row>
          <ion-col>
                
            </ion-col>
        <ion-col col-12>
          
            <ion-item class="newionInput" >
                <ion-input type="Email" formControlName="email" name="email" placeholder="Email" class="loginEmail"></ion-input>
            </ion-item>
          
        </ion-col>
        <ion-col>
          </ion-col>
      </ion-row>
      <ion-row>
          <ion-col>
              <ng-container *ngFor="let validation of validation_messages.email">
                  <div class="error-message" *ngIf="loginForm.get('email').hasError(validation.type) && loginForm.controls['email'].touched">{{validation.message}}</div>
                </ng-container>
          </ion-col>
      </ion-row>
      <ion-row>
          <ion-col>
            </ion-col>
          <ion-col col-12>
            <ion-item class="newionInput">
                <ion-input type="{{showPassword ? 'text' : 'Password'}}" formControlName="pass" name="pass" placeholder="Password" id="passwordInput"> </ion-input>
                <button ion-button clear item-end (click)='showHide()' style="height:32px;">
                    <ion-icon [name]="eyeIcon" style="font-size:32px;" id="eyeIcon"></ion-icon>
                  </button>

            </ion-item>                           
          </ion-col>
          <ion-col>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col class="required">
                <ng-container *ngFor="let validation of validation_messages.password">
                    <div class="error-message" *ngIf="loginForm.get('pass').hasError(validation.type) && loginForm.controls['pass'].touched">{{validation.message}}</div>   
                  </ng-container>
            </ion-col>
        </ion-row>
        <ion-row [hidden]="!show" class="mysignup">
            <ion-col>
              </ion-col>
            <ion-col col-12>
              <ion-item class="newionInput">
                  <ion-input type="Password" formControlName="cpass" name="cpass" placeholder="Confirm Password"></ion-input>
              </ion-item>                           
            </ion-col>
            <ion-col>
              </ion-col>
          </ion-row>
          <ion-row [hidden]="!show">
              <ion-col class="required">
                  <ng-container *ngFor="let validation of validation_messages.cpassword">
                      <div class="error-message" *ngIf="loginForm.get('cpass').hasError(validation.type) && loginForm.controls['cpass'].touched">{{validation.message}}</div>   
                    </ng-container>
              </ion-col>
          </ion-row>
        <ion-row>
            <ion-col col-12>  <ion-label *ngIf="msg">
                {{msg}}
              </ion-label></ion-col>
        </ion-row>
        
          
               
    </ion-grid>

                       
               <div class="login-button-bottom" [hidden]="!show">
                                <button ion-button (click)="getSignup()" id="btn-signup" class="btn-login" [disabled]="loginForm.invalid">
                                Signup
                                
                                </button>
               </div>
               <div class="login-button-bottom" [hidden]="show">
                    <button ion-button (click)="getLogin()" id="btn-login" class="btn-login" >
                    Login
                    
                    </button>
                </div>
               <div (click)="showSign()">
               <div>
                    <img [src]=arrow height="30px" width="30px">
                
               </div>
               <div [hidden]="!show">
                   <button>Login</button>
               </div>
               <div [hidden]="show">
                    <button>Create Account</button>
                </div>
            </div>
            
        </div>
        <div *ngIf="saved">
            <page-verification></page-verification>
        </div>
        
</form>  
